[General]
Hostname = mydynamichostname.duckdns.org
MediaHost = mediaserver.duckdns.org
Timeout = 8
ServerPort = 8080
ServerAddress = 127.0.0.1
RestrictAccess = 127.0.0.1 192.168.12.150 192.168.12.156 192.168.12.200 192.168.12.155
Password = MyPassword
AllowOverwrite = 1
House = MyHouseName
DefaultUI = testing
CustomDash = <img class=\"icon\" src=\"/ui/icons/Home-Automation.svg\" /> &emsp; &emsp; &emsp; &emsp; Temp: &emsp;<h1>$status(BeagleBone/temp)&deg;F</h1> &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; Set: &emsp;<h2>$status(MyHouseName/threshold)&deg;F</h2> &emsp; &emsp; &emsp; &emsp; Outside: &emsp;<h2>$status(Weather/Temp)&deg;F</h2>
MaxThreads = 32

[Status]
AliceIP = 192.168.12.172
TaroIP = 192.168.12.150
BlackBeanIP = 192.168.12.171
PostalAddress = Your Address, City, ST ZIPCODE

[LivingRoom-BlackBean]
IPAddress = $status(BlackBeanIP)
MACAddress = b4:43:0d:f9:16:11
Device = 0x2737
Timeout = 20
Type = RM2
Delay = 0.3
Icons = Device Generic

[IFTTT]
URL = https://maker.ifttt.com/trigger/$command/with/key/$status(API_KEY)
Type = URL
Icons = IFTTT

[IFTTT Status]
API_KEY = XXxxx-XXXxxXxx-xX_XXX

[GEOIP]
URL = https://geocoding.geo.census.gov/geocoder/locations/onelineaddress?address=$status(PostalAddress)&benchmark=4
Type = URL
Method = GET
Icons = Link
Find = Coordinates:X: (?P<Longitude>-?[0-9]+\.[0-9]+) Y: (?P<Latitude>-?[0-9]+\.[0-9]+)<br/>
Set = Latitude Longitude
StartupCommand = .getgeoip

[GEOIP Status]
Latitude = 32.13444
Longitude = -96.23551

[Weather]
URL = https://forecast.weather.gov/MapClick.php?lat=$status(GEOIP/Latitude)&lon=$status(GEOIP/Longitude)
Type = URL
Method = GET
Icons = Weather Link
Find = class="myforecast-current-lrg">(?P<Temp>[0-9]+)&deg;
Set = Temp
StartupCommand = .gettemp

[Weather Status]
Temp = 30

[Stupidity]
Type = log
Output = /tmp/mylogfile.txt
Comment = Just a test

[Stupidity Commands]
logtemp = $month/$day $HH:$mm Temp = $status(BeagleBone/temp)

[MyHouseName]
Type = Virtual
Actual = IFTTT
Comment = Entire House
Icons = Home Generic
StartupCommand = .fetchTempLoop

[MyHouseName Commands]
watchMovie = .LG/play AV/bluray AV/movieMode sleep,5 LG/ok
youtubemode = .LG/power AV/bluray AV/movieMode
castmode = .LG/poweroff Alice/castnow AV/tv AV/movieMode
wakeUpTime = .Evan(home)
watchTVNow = .Alice/poweron Alice/watchTheNews sleep(2) AV/movieMode
sleepyTime = .Alice/poweroff timer2(Evan(sleeping))
leavingNow = .Alice/brightmodeoff Evan(away)
earlyrise = .set(MyHouseName/threshold,74) BathroomHeater/pulse(minutes=20) Bedroom/on timer45(Bedroom/off) Kitchen/on AV/poweron
getupnow = .BathroomHeater/pulse(minutes=15) Kitchen/dim Bedroom/bright
showertime = .BathroomHeater/pulse(minutes=30) BedroomHeater/on kitchenHeater/on Bedroom/bright nightlight AV/voldown,4
needsomesleep = .nightlight clear(BedroomAwaySchedule/enabled) BedroomHeater/on
saytemperature = .IFTTT/sms_evan(value1=$status(BeagleBone/temp))
wificonnected = .logic(test=$status(Evan),away=arrived,arriving=Evan(home))
arrived = AV/poweron timer.1(Evan(home))
warmer = .Fireplace/poweron expr(threshold=$status(BeagleBone/temp)+2)
colder = .Fireplace/poweroff expr(threshold=$status(BeagleBone/temp)-2)

[RADIO Evan]
device = MyHouseName
home = .set(someoneHome) watchTVNow BathroomHeater/pulse(minutes=10) BedroomSchedule/awake
arriving = .AV/poweron set(someoneHome) BathroomHeater/pulse(minutes=10)
sleeping = .clear(someoneHome) clear(BedroomAwaySchedule/enabled) BedroomHeater/on KitchenHeater/off BathroomHeater/off
away = .clear(someoneHome) BathroomHeater/pulse(minutes=5) set(BedroomAwaySchedule/time,4) Alice/poweroff BathroomHeater/off Kitchenheater/off killalllights

[MyHouseName Status]
someoneHome = 1
threshold = 72
hottemp = 82
actemp = 78
warmtemp = 72
cooltemp = 68
division = 74
bathroomhome = 6
bathroomaway = 3
heatmsg = The System is in Heat Mode
acmsg = The System is in AC Mode
coffee = 0
Evan = home
water = 0
threshhold = 78

[LivingRoomHeater]
Type = Virtual
Actual = IFTTT
Icons = Heater Climate-Control
Comment = Space Heater on eWeLink
Room = LivingRoom

[LivingRoomHeater Status]
livingroomheater = 1

[KitchenHeater]
Type = Virtual
Actual = IFTTT
Icons = Heater Climate-Control
Comment = Space Heater on eWeLink
Room = Kitchen

[KitchenHeater Status]
kitchenheater = 1

[BedroomHeater]
Type = Virtual
Actual = IFTTT
Icons = Heater Climate-Control
Comment = Space Heater on eWeLink
Room = Bedroom

[BedroomHeater Status]
bedroomheater = 1

[BedroomAwaySchedule]
Type = sched
Comment = Away Bedroom Schedule

[BedroomAwaySchedule Status]
time = 5
enabled = 1
poll = 30
trigger = .Stupidity/logtemp BedroomHeater/on event(minutes=$status(time),command=.BedroomHeater/off)

[BedroomSchedule]
Type = sched
Comment = Bedroom Sleep Schedule

[BedroomSchedule Commands]
awake = .set(BedroomAwaySchedule/time,5) set(BedroomAwaySchedule/enabled) timer2(BedroomHeater/off)

[BedroomSchedule Status]
20_00 = .clear(BedroomAwaySchedule/enabled) BedroomHeater/on Kitchen/dim

[Kitchen]
Type = Virtual
Actual = IFTTT
Icons = Light
Comment = SmartLife White Light Pair
Room = Kitchen

[Kitchen Commands]
nightlight = ->IFTTT

[Bedroom]
Type = Virtual
Actual = IFTTT
Icons = Light
Comment = SmartLife Colored Light
Room = Bedroom

[BathroomHeater]
Type = Virtual
Actual = IFTTT
Icons = Heater Climate-Control
Comment = Space Heater on eWeLink
Room = Bathroom
ShutdownCommand = .bathroomheateroff

[BathroomHeater Commands]
stop = .bathroomheateroff set(BathroomSchedule/enabled)
pulse = .clear(BathroomSchedule/enabled) bathroomheateron event(minutes=$minutes,command=.stop)

[BathroomHeater Status]
bathroomheater = 1
heatoffmsg = Letting the bathroom cool!

[BathroomSchedule]
Type = sched
Comment = Defines bathroom heater duty cycle

[BathroomSchedule Status]
time = 6
enabled = 1
poll = 30
trigger = .BathroomHeater/on event(minutes=$status(time),command=.BathroomHeater/off)

[CoffeePot]
Type = Virtual
Actual = IFTTT
Icons = Coffee-Pot AC-Outlet
Comment = Safely Controlled Coffee
Room = Kitchen
ShutdownCommand = .coffeeoff

[CoffeePot Status]
coffee = 0
water = 0

[LOGIC checkcoffee]
device = CoffeePot
test = $status(water)
on = .coffeeon
off = .coffeeoff

[TRIGGER coffee]
device = CoffeePot
on = .wateroff timer60(coffeeoff)
off = .PRINT coffee is off

[Alice]
Type = Virtual
Actual = LivingRoom-BlackBean
Comment = Vizio SmartCast TV
Icons = Television Generic
Room = LivingRoom

[Alice Status]
menuwaittime = 15
powerontime = 5
haystack = 1
youtubetv = 2
maxleft = 4
brightmode = 0
power = 1
AliceInputMode = smartcast

[Alice Commands]
poweroff = .powerTvOff AV/poweroff
poweron = .AV/poweron powerTvOn
powerraw = 91541d8ea5ac7a044d8805b28e5c0a1ba1a44644ab488b4180a15ba1ccb64013ad3fd6cfd6707fbf1a818658e22b4b6f1ec9603af4fc8a717366714925d74a2562a9bd8922488c4f966b92f5a1087be73194308c65ca9cbb5e8163efaed649d2
info = 942ff93841022a5e0629f2b0131f6d854c5418688e4bf391ea542a3eca9460dbd1850639c5dd73e237ea96d04525303fb2f7ad3f7dad5ab8264eadc91cdb260080278ded2f9a17fcdabc141a2fedfcbb89aa7d6533c54d7fd92275d78c1fc042
input = d11de23e794200ff1cf0349d728c1b1679c62018ebf857c2d3a1429889d033880396a51e79e0a8a368d58f8462b3d5a8ef0dc49d3bdbd9bb1aa5ab15dca3b21ba35cbfc2a1847f1304eb4003c9d1a3629067edf8217e5dc98dc79771c29d638d
menu = f393bb5eb754bb5ff0f39a625a32c76f6f80b014eadce8ef39057e9d76c1fa3d4b896ac6dc91c67b18e69ce70daa7d2d8444444c72a5fc618521ed0bf283f66aab1d85b9f35eb3edc9992ab3f589a5d03a22a85c3aebdba9fe8d770bd01b12eb
back = ae6f9198f761da466621c88385c8c4c5c71af94813811513a60fc356314d672ee960140f715f57e3e08b7afd90506f00b2b41f04b347833911159a60c7fdcd4f7704f81ca7533e91d50fc2d6f01a549bd5cbc645606d88de0f2d54464e26e8c3
exit = d11de23e794200ff1cf0349d728c1b164e5922aaf579110869cac8c7784c773683c8d6c77a9568cb4f507e3869f360f6bcd7c81f98a7c5d3cfc64e6d3d5fe639ad901b0760f1efa2e2b64bacb8170f75a532ea0ff533c109a6c982463d4c667e
castnow = f345d5132f77b81f5d2782ba1b1599ece1c8d0f08cf99cf9b49a089f808a6e6445729f8e865f9209a96df5f24a78d867a8b79285dfb2114a858ed1c3339dcc3cdd5509f72bad5055f775477b118bd53100666b66db689c0b0cd6b19bc3250d4b
repeat = 7e0a59774a161687175d32b327bfc55fd6855276ad3e362f853d40279935c5ef955a2571ffbb340200ba4404a45e969993720ef15f8df543457ae010ba4f8be241dfbbbfff918562a40d740c8e07e690cad2faf860a19a49a30f0eb710073bb3
vudu = da4054abd6cd08c2d8c71364f63a40964ca43a07502e99823db131e5774df049eb2634f0df8ae68b0ecd8ae992e90d2f583247bcc52331107c833c81f2a602cb21188601b316e8def1e8e2ac1b64caf1ea79d2120b025f4d8aa27a9d3f63a58b
netflix = a6c9f41a8cc3f56cc0ad492f062814fc0960ee0e7dff63ead591f286318f521dd415b43f819e292e65f82f2a8aad20326e47edb2787d7306edfb32146302050a07b937585b22dd2bff6e39b4a1aebb9cdefd869ad384a57dcf6236b7c7943f40
hulu = 74ef48d8a16fef6c93f02db2567aec7b6f966910f2dfc178709b3c84ee4e86fe0955828ab59141677781400ac4839b99ebfe8c51c6a03e0e0c57e0dff30f230671fd50853842a4687c4caa05b8cb8376706e04775d11d03d4152f2926d4ccbf6
xumo = 9bdc99cc7bd8d14efe5d3df66de4aa00ac86d645ee7655f73f1f0d6d3d2a0daf65325cda91ae9f2c2b991e4fb6fcef7fdae26ea47aff63ead2f73dbfa4e23b16f591f447da0f633867f430c2997b2d1bad6387934804a39eae0824056236bb3c
crackle = 9bdc99cc7bd8d14efe5d3df66de4aa0023e5506379eaf23797aa532186507be982b8b7047acd071859f4761b46226b77852c487019047d37c7e1c732760051634bb72597077f1f5c4268461a036e9c2999440ab751190b06fbbb3154f3d38f90
iheartradio = e71b248c376df9eb64e4760b2cf4d7af5e2d2491b9e7ffa2462fa53b816227d334e1b7f79b9b442805acaf7f67b8980256463ad7bfd3c3f0dc52cf6512e3a166114a24459a4804ae60d16eaf1b1f2909c728eaab674e5c27023efbb5046adb22
down = 1c33464d12c624a403996999a6f36f1c794a8afc518b6ca1baa3f0be7230cd72da0c4d0d8d413d336fc76241a74b6b1b70cb719589042426050674a4de07492f36f72ad2eda42b70e633ad21e308b3c063cf235e7a4abf2c59f8aa4548f8d135
right = f345d5132f77b81f5d2782ba1b1599ec0bb78a791e0771abab3dc2f69a04d6f397dc38ef9b2fbb755d0cbf6fc01a85aeed650c7446fa0e3a556e104c774ed9cc311ca6fadfb2d2b8a338691b195594a8ddb5c222842758db6e548ca2617a6c97
left = 1b078a7bfd18446925dbcc16b8f63f4bfcb3fd036c10990f02638d41c94b9122b4955723e4659223d8b6cc63a42bd66515ac8ad09d345309a6931e9e6041cc35fd1bdd72239406800d2afe1fa06a2adfa1bd49b46c0ad9227ccbbcb776cf9fd5
up = 7e666af419c32cc9109f41565b6b705f075f74e82eef6f8c1a6ce4d79d9a03c0b7d7ba842b00cba825ef09dba26e7e91ac4e3b2ead8b8f01cd1b168b5620df7f38663553c3fab73b323e18b9f6cbc3287aa3eeaab096e0da52e8548b1ac8ed20
ok = 513dd1392b7e792d45a865049f547106f368f806e554ce114a3aeab862363561de15c384dcdd81d0c6dff37247580254e6a7e78fea913b0f10a92bb5ef80c5a8378835e34bd1f71e909d137a69441490a016eb25f43cc006a7c883493c4c667c
pic = 67c05f45bff0af8d438ec01f9436889a9336f1830dd39338f0b550aaa4d3935290fcd990910d9008f0e4f8506ed63de7510891a6f57f17bcb78dcf36f312c4eb657c3ce3119dbecb739d0c044246ec03e9c852f4c5aff12b7d684b6c82d3632e037a0ced69bd81da28ce931975929af5
cast = b5412ce68a52ec93af3934a97fa80f24fcb3fd036c10990f02638d41c94a90225c4ba1a963943fcfb4fea1c72c0158c936d2c04d091ff8114bc14c6c78ccaa2669ce9b92c4cae6aadd08e55ccab4896bae7c2457e43c1e9e2f57b9af350b3c0c
waitForMenu = . sleep,$status(menuwaittime)
openMainMenu = . poweron castnow brightmodeoff waitForMenu down,4 left,$status(maxleft)
listenToTunes = . iheartradio waitForMenu up right ok sleep(1.5) right,2 ok AV/musicMode
watchTheNewsRaw = .openMainMenu right,$status(haystack) sleep ok
watchTheNews = .watchTheNewsRaw(deviceDelay=0.05) AV/movieMode
youtubeTvRaw = .openMainMenu right,$status(youtubetv) sleep(0.5) ok AV/movieMode
youtubeTv = .youtubeTvRaw(deviceDelay=0.05)
togglebrightmode = .TOGGLE brightmode
changeToBlueray = .input,2 AV/blueray AV/directMode
changeToPlaystation = .input,3 AV/tv
changeToTV = .castnow AV/tv
changeToRadio = .iheartradio
changeToMuse = .input,4 AV/tv
volup = ->AV
voldown = ->AV
mute = ->AV
switchinput = .AliceInputMode($mode)
makenotbright = .pic sleep,0.35 right sleep,0.35 ok
makebright = .pic sleep,0.35 left sleep,0.35 ok

[RADIO AliceInputMode]
device = Alice
deviceDelay = 0.4
sequence = smartcast tuner LG wecast Muse laptop
pre = .input
post = .ok
smartcast = .right
smartcastoff = .left
tuner = .right
tuneroff = .left
LG = .right
LGoff = .left
wecast = .right
wecastoff = .left
Muse = .right
Museoff = .left
laptop = .right
laptopoff = .left

[WeekDay]
Type = sched
Comment = WeekDay Schedule
Device = MyHouseName

[WeekDay Status]
04_30 = .earlyrise
04_45 = .getupnow
19_10 = .Kitchen/dim
20_15 = .needsomesleep
only = weekdays

[Saturday]
Type = sched
Comment = Saturday Schedule
Device = MyHouseName

[Saturday Status]
04_30 = .earlyrise
04_45 = .getupnow
19_10 = .Kitchen/dim
21_15 = .needsomesleep
only = Saturday

[Weekends]
Type = sched
Comment = Weekends
Device = MyHouseName

[Weekends Status]
10_30 = .earlyrise
20_15 = .needsomesleep
only = weekends

[Fireplace]
Type = Virtual
Actual = LivingRoom-BlackBean
Comment = Duraflame Heater
Icons = Fireplace Heater Climate-Control
Room = LivingRoom

[Fireplace Commands]
light = 49cd19dd4c890a2213b589e1cc31ef192cea34911e5fae875d697d25291cdf5c653e080233fcf45695f07d492ef246b9a91bcd5343a6a3cb8e40e000c550647006b5114342c4d7c37180bd98e16cd0bb6db8a68d0ec74fab6066e33d70eeb1cb9940e87fea074b8f7156f789017556c3771dcdb900bbe6e5fcd06e78b44b4d7e3a6942c12eb62576ea17d9bb91569e72d44e8bdf2328e993cf2e65842bbb60bdf180c2b8f8f1750010b3da5d282ec5a33709ac304b20bd566fe266171cb354dcb66f1009bc73c421ef3ffa0f4d3d8969ed9f06f58f0c7b993a0a851a070e27b9c521801139ca77acf3e5407f1d6ac25eb3f5b08d575a3e5d7d65a512d800cc5b
power = 0814cf5a33ff40349a80514fcf9aa3abcc01819cc056aaa4f6c64b1198cbcf1caa0368623ef19fd26d61dcc338f71556a1bc735fbd821f7ea67e11252fc037855914fa30561d9186b2b672310e4482972afdf0379813e33cbcba05ca5f8771a6784d622b3580ae151f0c80e6259e228de41be29a63f78cab316be4eef14c0856822db1436bd7c1e756f976716d3a12004bc62bf392f3e5b7a7d6e6be96d7e79ef0cee707fd1701d7e62293a8a75ffd7157726079a950f3961358341b753e5f573011a56d3ce6971d82c0d157bd5d2474452b9f11c103d88d1fe5cebcf71320eb83aace45d3f8e74ff5c3080373cd5b9c373df4f0b7a641260de9c85d5850783f04a68f421e4deda6708d89060e43273a09de4fb7a9dc78e1e81c3518ca2b8aa7f74d806ca33e8ed82e67c6bf6a12120e
brighter = 7074ea2b8c5d2bfa8fafa7b43eef7f9eaeed461c1b1bae0bd5c462a66a43055e1c52fd074422a2cac28949c0bbbf17a2c60dcc50c1a0eb63d9cac8d948e020832209b8ad682c45378a590022eba26e32eec68a593aeed188c1be246831f6c0be01e9058fe13e3fc62d98856cad771ff465fd00353d029f6967d8577ec65c22a7264f2f070a1adb38c9be1f75488cec1cbbefea0a19ac46a0aca7f232c45a2d4200061ca12a56a9f73178ae23ee2f5b204a2238e9439727ac68cf72400ce71faafbf1cd1dd4a2e4ad8b99015956526ab571346518982fd7ef14e4bb3c05383960f2232ced143f751047acd40bd223d46172e5bfa772d621763a2c7f922c1248b4f22b54dc53af114c803ac7336bf6e9e9
dimmer = 9608ef6d06a8d93f3aad323e6067dfa1ccb63708880e669c1c711543b9a62d4bdc26b7b7562f59bf74a9fce0e4a38fcd273180d405473c1fe7cf59cfe2931262c260d84feb51b86c139c18a6a7d06187b243c6fdb0a87c1b07b70aceeefc3ff9543f6865077c23c580623743a38ce4034a7e45e2fa4c7161e344864a7083bbf70800d5926abdc6025cad85408687fc699c0f369b84843d0b76a500ee965eba12d60f3ceffd36ffdbbe19adecf29b201e94e65d5789f1fc71c6d9d0af03512f1483cb6054743c6d6e7d0cad07e4cd1b1c28b395cf5b1ac4f00ed4874961cc474777b3a57d07537aea794d6739291b89d6faf9d99c8c70e524a8761bd0bdc379a98189a02ff1c67c620c3e96b79ccf6918d9fda514da2d3c006b60622935ddf061f74d816da23f8edf2e67c4be4129362a

[Fireplace Status]
power = 1
light = 1

[LG]
Type = Virtual
Actual = LivingRoom-BlackBean
Comment = Ultra Blueray Player
Icons = Bluray Generic
Room = LivingRoom

[LG Status]
power = 0

[LG Commands]
power = 7300d8a50e7754ec766e17f42d80b31fad21e9ac61b22f0f79d0c224716781b290ff5d9068b4c06b6f9295d3e1deabc5e48d7a35e871629ae9e4c8c09a1ff31dc72df798b23e07eb8b1ca69ac134a9343d452e1d896ecb35ac794be2dd808e1a
eject = 4d41e8b10c12bdb7a391c91c4c2bb81b69819109dfb1013ea9fbc8fdf78d6601b26659a36ec941b6c4132eca4a7c4630bbcea1a61811e1b1c41d067990c69a3d43d236fcd1cf3082165def8128323f3ee5d671daa66cf4654fd03e2c60ce9599
prev = f52c1bf84372245b90a87f6cac07038df2a49f3d71407f5773574c0e5b36d09a72407efbbe94554aed9cd368a526d9b8d75615decdb8d26ad29958d48a8e2b4c13cc7657559dca46b99d6bd31ca69a862f3b040dbf8e3891ea5c750c4ca7cd54
rew = 26910c71fe45ebc2b100f96fcc687e52ca10a4dc6173607bc78527c62b5ebab413198c11bc7852ae274bfe34845eb3469d435d0bf30848d0edbe7a39d16d13e8e7d1140fd859744360c223c98ba46109fe90ba0a8564a0794ef293097379f7e4
ff = a79d552bce09683ba261156778fc753b50de1c7c826d75d785eea0c6fde9aabcfb29f69d66acf2810b3c98a65f2260902b911fdaa6b44a59a7168a948c778ae2cd79c95a2ca70243f888ea9b6854fd12cc05581755cafbf33fe6e52aceb583de
next = bb369b27fc63311691fa82ca4557f7a39a6fe4770c22a71e4c402888c8e96e6a66523bef0ad4664a1fc24196f9169df2f16c77ad0e84f2006144830ad1cb188d10cf2eb57956eab161964b3bdf2241e58b964bf366a6ecf5f4232bbf693c7fde
stop = b0fc3e6eb4e8c3ca2cf07815aba11eb542a591d7382a9e6661297406f1bb702ef9a9ffe2602243a791fe7ee67c761383e547bcdb380ff83c8d483aae8c6aeef4e7a11f22ba5dccb0a921ebf68e10133b3a8c694cf6dbb640e775c7f13da3080b
play = 0956edf8ef497ab7b8ca3546ddd44d936f3c9254eb750a8f27cc10f87456ff5d3017b2120ee38770ff825dde2db2603bd63a92d1f953058c8f6c557c7af658cb33c7249115ac1c112e1327936e0ecd5e3064c8e673ffd02a818f35d81ee25103
pause = b26cb1faa62849a700f337b5b0d6ca534cc5a6f1efb3050e59dddd8876775cad19490f5cc27e7a2dff5b82cefc350af14de0b37aa4519c497e3059f645c6135952bb7f5e57ffce03f75ab8fb0693deee31b03a5f9a0bba85c2cbd477f32e383f
ok = 59997d3e0c7525bdf1ff2296a4daeb7d20e514ccf8ad7d72a9bbc6ed119f0c7161aa8177024d638e1c4372d80d1a5ae985f7450e26a9edce5f7a442c9128947c64c2f97c0b718726e49c3fcdaf3ed45b102fc4788cb06c52aa50c5c684e1e107
up = 61b9e8286df1b739bc2ba332d0f1417ea0df98f0dbdd03bfe1cf5e24cba7fe9d32227dfb496beeaa97fb6dcd949cd5a3f23b14a8cf8aa5559ab32238b29fc63b29e3dfa885810f7d42bde34740f0fa506f4b2764ccc88f413c301ae429ae3b89
down = d66180095ac7bd3a4ae938b903ec8745f620962daa8b5044f21a1460b80fec8e7cdf7bda84a5d3f2d619cab1d33a3b539b940e39a8bf3cc4d9ff401f41eaf077e1ea36bb3fb3fb459253b9689a069a255defedcf7823095f5d570a2bc6a04587
left = 3d0cf03f29deda98d9f7ac2d98b369f8fb4c6a39792b5a11bcfd6c28fb57dcc224141a6a89f18ce41da73076dc61b3f070e3aa2f41ba0a483ccd3374a7b9e9c06797c3a40467b1ff03469dcf7ee5f63aeba57b550912b6d6d763a6255573f4c1
right = ffbe74425285974510aab812f9a91b6de89c403adbeffc97af6642e22747f257846f3d0d8b380930dd1ffd7af806e439916125176a6caeb171c863da34aeb10aa4d312a99d9330bcbfa78446364820d1417dfb1d3818e57325af69ea54372e47

[AC]
Type = Virtual
Actual = LivingRoom-BlackBean
Comment = GREE Air Conditioner
Icons = Air-Conditioner Climate-Control
Room = LivingRoom

[AC Status]
power = 0
AcMode = off

[AC Commands]
poweroff = c0f89f8470a7c0b2eb520b76915615ffd8d0cde231bc0aeeba7b7cc62cd2873e99c9fd7565991a0c7cce4de961f2f4e88a7284a4364997bdd05558214b1ed1b194e1084f57e264ccd633f5fd209945e85fccf6c0e18d4603d5724bbd893d596324b5aba87571e1b9c4ad0571e40dfea580ee5731c0e6e6490fd51a34aa77ca3b610ef60f547b10b12bd0af7849402b1b5f0e2bb3aca54aa393bf44ce372fa55f
fanonly = bd3cf99c2a3716cb084cd5cc169b4689bb4ca2e7d7822d3249b15b5ee702907b1b0314672b3a1c2c3dac7fceedb4b9cae055f7e49289af5477123c6205aef5b2c842240768cd17c0da31f63a34451ebae79e175a9a2911297d80f0e39dd7113b25bf095c015e2df25a6e8f401c28181f4765d5ec5bf88c2a5a30219673d1fba60b28351d1ac141d7dde85699436cd039f02c7975434c5dfc469b73e84b1b7c75
dryonly = 931129cb05d3477e0f89b68c0e0b63b3856a76446c0fe4c0fcb70f86b78b9ab94637ba5e78da2fa10b120ef73e66b6cb3df3324c30abe7e4b79bf3aec475899c216d9ab29a5c113567a0a44a140a42959ba90967162184bf7628c1c9de4ea550398dc91314a170e4e12693ffd50eb6c5539a8ae0b49d17f0a4c311ff53988be8d2d4866d0b34abe862bbaa862186893fd13ef90083333f477a1d1590ce4d7fa8
ac74deg = 7f7db6dc1167c4bc7b9fd207a373cc0fa5b96abf5901a912a5ea8c8735efacc165aa3f51c1a99187b6939889321379bcbcdcd51c004fec4f40ec0d1cbdc729c09126fc034cefd839a419a4e45fb17b5fa6ff29bc36830f095f5eaae1fc9da1cfafd1b2c82740196ab4de8c8cc08f91491a8eb59f73941333a47e757619397bf5fc9958714f42a8a2bfaa01d095996c771b6a75ebce7025acb7567c2c509df240
ac80deg = f890b8c3efbe758260c83358a1986a8cda1f27f77e95721a72b838e32194759f1a38694013dd02da5de9d8eb55b9e8d74c09731455ea5b3b7339b0c3156dfa693b001a6a20fb5c4b20962815860f00efe30b046019a73f10c3f889ba9aae93f136dd60aae1657030ae7ec14194675bc0f0d08e867c06a2eab63729da490eb839706d762491c3c32413873e3484dc53ba745afbe31ad16cbfd891b26c3c8b1337
ac76deg = c572208503108b745017d48091521115b28af5c8ed5ccd071691e7e3a8b9de13a6c959d1793345be18b725ccc5d67a4e842a5d23a7136dcef93fdcdb3212c57a90e46b62ffa6bbba698017e26dc5049bfbab3485f6cd4619c617b0f5c9e243dbdfa754abb1b92b872a7e2d2a3f23847db22f937ef83cbd61c925d727ec9d629dc3c734be6b53d7e89173dd14ea033e64960483095eb293b9e8b33dfc25a73871
ac84deg = 149a78ab235f3e67133e861b46ea545a30ce7890e9833529289ff66ef73e4fac3660ccdc88299b99c962d06257a1903b6d6225c1c430346f383c2800cb64b56aaa39862216a6d3b5edd0355386c27621a9cb9f1b11a3af73b787a409d84bf6d656658dbdf4cbbbe10dfcca110e7e64704f6a6d0f825af2d5e7ffb7708d9546aedc6cf8d9c7fc39e885ef660a51b2cf0215f7ebbba605561ce5457a0a039841fa
ac78deg = efa470f3f2cdd0eca134d8a441197af52beabaf93fe2c0bedaff1d09494d537bb2819789e3c5153ed93b0b680897b58cafc3366ff88adbdd34911a548dbb1cc29e41d68124328b594562a373c853e7c2ab52f78b521d5571533528d8d1e334cf3a4519a4c58a0eb54294c6f865d5d8820d589bc89755af9440566e58c0300b72326941acc3c1a7dbb021940555565b81e23148f376f43240324bf4c480136802
ac82deg = 48f2fd3c3efb53c63fa180eed44fa79efc093a9a7df2159215be8ce184a07cb2f79838e4dbbe3eea7e71b234744f897c3911a90c39d26aff371e4971c4b8359e1877ad9fc42cd7f382b1c1872cfa7eabf8d131279126738affd067d38dc21d5ce5939569de3e068b6a314c622cbb30b2f923a066e0c2317234db445e2429cea248b25c6efb7d4c065200a4f036c0470e981f48299aa36657ee25e83cba4e83ce
setAllAC = .ac${temp}deg
poweron = .ac76deg

[RADIO AcMode]
device = AC
commands = poweroff fanonly dryonly poweron

[AV]
Type = Virtual
Actual = LivingRoom-BlackBean
Comment = Sony DH770 AV Reciever
Icons = AV Generic
Room = LivingRoom

[AV Status]
power = 1
AmpProcessingMode = multi
upamount = 5
downamount = 7

[AV Commands]
power = 5c085a8349dfc38d303d8369a4a3414b69505baafda614de6599c1b16aa015e5adf6051190c1c4b8afb12339c3456f7ed48a0ab2e8bdd3b1b1c7b9c277ef026e8b081acb14086cd5b0a4b74cec04c1a9a8bfbcb9643d81e7e47fe50f14205ae3451cc83c40516dad6320afcfd26b232ce6e27db29c65dbfe53ca6f682db7d11eecb4898d05bdbaf187539018fb2684d327ca8a0dcadb3f1704fb9c9c83afd99127bb941357b040027656cbf82a2f040ae3376bc6fda0b726d83e547f16617e5f5e78244aea395433cec05214c0a6b57dcec0c3b5a308efcad0d138785b314c7c
volup = f85b54d48f8ca7427a21b722644e71a79614f117360e37ca78708c41ed769c5bc368122ce6c9145797343f3027fadb5810ee999368218cdac9db0fdaa5f127f72cd887d2ea4dd936a58a4fae9d039aeb3de62d8fa16dd86fe0f40df7566c1f6956d2445bb3d0b07f4b6c9cfee10aab42698120d6fbb9236522efdd77da3f4b7f1de60a37d27c7137731871e6df53251454dc32a0d44c56d339d119c7a3bdbef9db1b510401e9cb0c0fedb5fd8614edaaab76e8f06bc6e95470afba9e4f5db42d176228069d73f4e755cb98dde14d11877b30f2d45938ccb0012699b010d41ecaff63fcacd19df0d98ddc999e0718c12adebc62d6838e9fd39dc2c09fa961ccca
voldown = 0c7e3d3b567e63bd6b69d74fd3ca5f18e649c4c65572c0112459a8a80a95249430ed1b230ac5953ec187d3883268fd9810ee999368208cdac9b70fdb99f127f7368619bf672542e7a2c0082bc953f0a00cfe516c9e46f0b60c8c778004732f931604636107b1f3b70744c81c0fdfd80add08ddd00601d62127038a7a29259028ec7081b0d43455a6da9a0b95d3f6f09c943182789bc8e878fdbc4c7332fa1f1e6ee84e1e494e7b3bc245386c636a21e3e17f9f4e2d47811d92e8a58fe08ae55b7fb9e5719935e6a4e5c2f601a948976d3a0988b5b7bf89feeea1919a4667ddb198d37a8e2fcfc53a68bc353f19302e1863fa8f802347f795cc2319762d5bd0728f3a95d810fca3eacfcf72d00d9fd48ac6e9e3eb2949853d0fdbc335ed82017e
mute = 8c2d73750505d3d0b232540562ef2a5fba4e2e126d228c797d2940f84ecc6983d61ca618e98b3e6f0909cc796f53046d9c840d323fcc13d75d355c54396001f00e31f678f31091cea99df391409a9b51773675ddf1dc061e0c90c267f132083ed0792fc54d74c3a050af6f2e7103b31fc5b00aa4b223090fc99a0f7f7e0b6c4d6a23662fc505bc4587a1d28a60cc5f649a2561cbd91e6f4f6aacacc890c9334d216c85007885784ee528423f2f0e5da075e956261a292087b4fe22142c65c04bbc8374402b5dba1edbcbe3823ec2d3ceb2d02dd5bd8204582115f529d53ec1b6742bcdb3f3951e7a129fca473ac4e62f6842d27b4a7d4df8d8cc5221db783ebe6cdb4c4254f27c06cf0bf482d212c0f8b8cf45b31343421a51e9850b8a230cbcaf469240cb972250e87f5d1366c7c8cf4ab78cdc7382592cbc4a05c28104c56b
dvd = b24c3689798439cf5599928d505b28e6661a57d37e82efc8351811922c4922151f1fd2228aff06128b0b653ef7ba05062f41efc03946d6398e3f6d7a194a079f7a73a68955f811f7c7679af827df842328e4cf74bfe47f0f275db0faf53299b955081db6f562bf5421b58bda5cea4089227c108ab03e6f580fb1a671632dd832c86942fc4a1b2638d1472061a2f571b36153ed33253bcca4fac37ec43993d7cb5d6fb5d82c100e0a46c008ef1a560437ca0de5200601c6f03a23dd023f493215a7bad28df8aadafb77c1c643a48f51934bbe9e4a35b389c6125b7a815a4b1b58437d543f6a0333192cfed2ddfd2491b2d52b64b3a5204f46410eaa956a006eb84e4fd0dcee81ffedaf6af8ddf1720a13b3e484fef797f99011de78fb27e3ea19f7607333ada22d2072b73e45937d95f324e718cb1dee66639668dceaf09da4bf
tv = b90f66430e22814e0179a85f0a218878689a902c8f454daa886d85070e56984fabc07af4bf96f129a7897fcec8a9ba8ab2ed664f6b2ef12e7e2caa8a94c174acc0d1a45a1a7d27d8e20d5d521944e1d88e29fe0c17d0e2544cd6f131bde41c01672674e38c059307d6cdea836c5c695dc026678e14390c925da64b844d10e9d290709d6e2b7c6bcd60cb2db1a5835fba49bec16bae5a09f0f60baa6c2810dbc49e897e245c4833c3db2527e74de7c5823d151e55b69188d2428ecc1f83a50585d4f03f395812b2cfc887b2c03dd5a7ecf2b6a737dd8c26a14703151f6b2488ec8de01639b61d5fcf1ddff4a3040e0e1686d91822764c9e67613a7771d373f70a
video = 698717d9156ba5db5598ce4909f7f947650ea6967afe2d24782f82aff8b1b7b829a41d6e214b094fb89d3ae6e25d1df95ca414beb84c687279ee0388d61a91602f0617822998807eab7378b8521f803545baa0038f987ab3e07e571165376cc904a61e3941d48363834aaf9718fec18bd719947c8a98743e9457b839fc515b7f7e163fdd4a73df1fb15251af0ee73b288f0cc7ded3a51b97e37f756a0dc57fe1c06f4587f3316a84182a0f7c0b64cea060d89d9d628d8f7092a044545d368359
bluetooth = 777aea7adc43fa8bc3b1db18ab100227713c0364e9871b812875b4ac5ebcd0f6eca3a82200f6e0b59a87539350977d5f36c2413833a366c9e0e0177670cae0ebc7ce6f9fa3b57945ee027a3de9f57eeb753de484df76cb9c8ac1dd50f97a27a3e9ef161cb189021f61a4a5fca96c8b8486e3bd88b4e8268cee49446992b11dc7cb06ef31dd1987a109941cd56b0d3df43f80eab220d496cc53ec54562ed63786deb6e3addaf9b87ba5e049c3937bdaa7c93cf4e3d753e8702ebcf084a0e81f15df5aac48387bd4258cf7284ba2f4012a75462112e0711b998f9f4c65d2a55c318f1e51005df1e4eff2dac447c95a8935c41472f3baedf2a14ddc65c441cb38182c9daf4cd9c6e0dff4e163e2dc2f3c39
usb = 9ffe8dfe81778a8c16f8d32a08060b135d53b1ee5935669b721976ff5a0cbcbf671507b63f83937533010be681aa7ff488d4f3e07f08eb2af8d1884615a26a0a4b7dbd456ee8300d7c25689e4234df213868396778a7be28df6a206b0efb3906c775cfa6488f52e992821df0bd7414497aa6a6a21d016b42572ac50898758f9c16a2c5dcc735735848a95c67b6557a3ac4b1fc6018b9288d72921adaa3b90bd1d4be94547a92e567883941e32f41ba5a962e800954c5449a48d0083bb771801be137c980ef441c137655000fc4ddf98bba9fb6af1497741b8b672d8ba349312cfa04bd2d24105ef5a8eccece9a5eca77aa162498acdc3b4cdca22d71d8c3ce8f5b852a22a378cf06d46e8408f773efb3
night = cd3f684e48732c5ea1f4d6ed1f9dfdb0445eecb8b0e3ec4accdc634ce8c0ba5a4c637c2b518aca4f8e042894807b049f5ca414beb84c557279e90388d61da260fc37684f9551bdf05321a93844008c4738ba2580e1804a05fd2e451db648896e206baad8cc5d088c27943da882c915beac3c04662a3a5727f2a446aba13bf4c07c72197992419d947c7169f437891e63e3b629497c24797e4dccfcf5437d35879d44e6d6895746b3ea6d78707658512560d89d9d638c8f7092a044545d37be59
adirect = 267215bc57bffb41b93d41f91cb8f77eeb8ff69d139e89ce21d3c716862d10aec569ea5042b467c7a3fea360155950f12d98a116555962812a2d70f96de10721138fc96366203349645da097f19b897e0e16f2ecf84d580276dc7aac1920810be1279f032f3986d6671d0bd91b3f46ef1da8e813252ccc79b525686f169ab514a538f3946d4791774f313a444cb29545054ac14761f016e6c2a0bf63a6c53e296308ff693771126e32e37bcc35aa6af74cb1859bb2dab4a8b0a377eb6aabf50a242a43dd8115932853248f86a6d85e0f5b1507b60383ac7533010be781ab7ff448c6ddf8a2662b48d2df0e180ac139a8
multi = de4adf1bd75fef610fac139e4759d36a0fbde5145b08f0609a3aa3e9f5a7dc9bc9a4f3b10f548c20c26cbd67352c3ab0973e8dac01f03fa13d71ffcf52e645cd603881b0a230402008ce24619688a5e1cf12a5f8c1296ee8bddd39a35d7a460b44d951cb28baf644aa2dcfd97c0bd14cde25579b150857b0285b624e632d8c434de8524b03ce0b0a40d60090efc42a9f8358cf75bfccbb9a5ccb6b9c6d69603661756612fc0a9a721cd1dc7ff7548487ccf60a0d00ffb7a35f827b79e40e8c6b034550374312251cff9f323649dafc04a0b1688055c4d2801884896145560560
movie = 01f85909429bc0f437af7b8efa1416f30caea87a1cb10876e07b0540b74b163b43cd336fc0c9a419e339afa038d1293cae308364756e769e060c66601825d1ad5371c0d207144deb8a0e3df53d3c027e192e2f557f15680f32878715fb78dc81c3f1237dfd2e19e319459998e901d218c113cfa10ec21b6f1949db0bade4c4d57360aaeeef45580875214ed4cccd11c27a4d4067bfc3df15d7b82058d30d97ae4aeab1977043d9ea0cab46b50c8fa0cb9540f4140bb56c5c2b7863f7fd42a2e6b3522eac4f9b6442b13563ca6d495b5408bd04a217e84ec8b6ee11968f069cd2
music = 0bd9d2bb9276b3ed2cde50529556751985046a96923eb45825a943d950d674257625793bdf3e4cc15becf1effe8100e95f7a633e1434efbe6395ef5f5d09c25f8a82415bf8a6896f5369d0c1bc3cf74c6791f4e8375ed3dcb0c553c6dec3dcbdf7ac3071ddb97379cc5aa8e28937bf6f377a7fd654bec6a127621f93ac8b0763509303f4283a5420efb482d06e73e1ec30056dc3377992e41dea95ec84bc4a08452f0eeec2f3228ce1ed71dc81a71df04d754fcb84193ab5e5c621f9d47c6349965afac1ede2c27d74de82573596aa8b58d32d06ebb631169d3dce4980ff19d3bedc88c20b73c5e335aab2ebfd4d96837a733f58a4b2fd71b22e35fb38bfc055338d37491669f166bc0bbe1c0ef68c34a33933f9842c0c331285b42cd469fe770e1f05bf9d03de1edc5ecfcd8a8a2cfbbff1515e21f3f4df146d1945f2db0379
bluray = dde8a5cc283b01aecd42dbbfe47f85689614f117360eedcb78708c40ec77a15b5c9fd4cab79bc5f436f5c5888622421e34dbc8bd35021272f0e9f13416bffc608a7aa67a25b833a22b2d49686c1752468ef3e0a0c5b212e69bddf71b69289bb2c18866b263a4fd041a4da88ffefda6eb13be2cbf6c77dc5ac9c303a51b53f65298f3c3eb8ec1f662c0879c35a1b4448c044750a3e8515a433b9e0c0f186901c0314c32b0761b09c6fd91229a53f8c54e8bc7d2d4193eb7f5525d7ee20e9773d2a6bbd28df8aadafb77c1c643a48f519307c09bbc0c4b316ca33787b52a5a569eca154ec3aeab986ab4bf966278ac0c433f2cd860558c62a1f62bd1b95cc4583e87ca688cd0f382c6eb518f1220c6a9540ee6970cbb2497d70a32f1422ff525bf6313490e0a6b10136de602223361d9be8d01fbe8cb1fd9c32bef16ea31a00b73
increaseVolume = . volup,$status(upamount)
decreaseVolumeRaw = . voldown,$status(downamount)
decreaseVolume = . decreaseVolumeRaw(deviceDelay=0)
crankVolumeRaw = . volup,$status(upamount)
crankVolume = . crankVolumeRaw(deviceDelay=0),3
muteFor30 = .mute wait(30) mute
fixamp = .tv
movieMode = .AmpProcessingMode(multi)
musicMode = .AmpProxessingMode(music)

[RADIO AmpProcessingMode]
device = AV
commands = movie multi music

[BeagleBone]
Type = GPIO
Comment = On-board GPIO Pins
Icons = BeagleBone Server Generic
Room = LivingRoom

[BeagleBone Status]
temp = 71

[GPIO temp]
type = tempF
gpio = P9_40
poll = 5
trigger = thermostat

[TRIGGER temp]
command = .PRINT The new temperature from $device is $status(temp), thermostat at $status(MyHouseName/threshold), outside it's $status(Weather/Temp)

[TRIGGER warmtemp]
command = .updateThreshold

[TRIGGER cooltemp]
command = .updateThreshold

[TRIGGER hottemp]
command = .updatethreshold

[TRIGGER threshold]
command = .thermostat

[LOGIC thermostat]
device = MyHouseName
test = $status(Weather/Temp)
compare = division
less = .print(heatmsg) heat-thermostat
more = .print(acmsg) AC-thermostat

[LOGIC heat-thermostat]
device = MyHouseName
test = $status(BeagleBone/temp)
compare = threshold
less = .Fireplace/lighton LivingRoomHeater/on KitchenHeater/on sleep,1 Fireplace/poweron AC/AcMode(off)
more = .checkFP LivingRoomHeater/off KitchenHeater/off AC/AcMode(off)

[LOGIC AC-thermostat]
device = MyHouseName
test = $status(BeagleBone/temp)
compare = threshold
less = .LivingRoomHeater/off Fireplace/poweroff AC/AcMode(fanonly) Fireplace/lightoff
more = .AC/AcModeOn

[LOGIC checkFP]
device = Fireplace
test = $status(MyHouseName/someoneHome)
on = .timer5(poweroff)
off = .poweroff sleep,1 lightoff

[SHELL storeDate]
command = /bin/date
store = lastdate

[EVENT fetchTempLoop]
command = .Weather/getTemp fetchTempLoop
hours = 1

[PING CheckTaro]
host = $status(TaroIP)
on = .PRINT Taro is alive!
off = .PRINT Taro is dead!

[PING powerTvOn]
host = $status(AliceIP)
on = .PRINT TV Already On
off = .Alice/powerraw sleep,$status(powerontime) set(powerontime,5)

[PING powerTvOff]
host = $status(AliceIP)
off = .PRINT TV Already Off
on = .Alice/powerraw timer30(set(powerontime,12))

[SHELL fan]
command = /usr/local/bin/fanon

[SHELL nofan]
command = /usr/local/bin/fanoff

[TRIGGER someoneHome]
on = .updateThreshold Fireplace/lighton Kitchen/dim
off = .updateThreshold killalllights

[LOGIC updateThreshold]
device = MyHouseName
test = $status(Weather/Temp)
compare = division
less = .updateHeatTemp
more = .updateAcTemp

[LOGIC updateHeatTemp]
test = $status(someoneHome)
on = .set(threshold,$status(warmtemp)) set(BathroomSchedule/time,$status(MyHouseName/bathroomhome))
off = .set(threshold,$status(cooltemp)) set(BathroomSchedule/time,$status(MyHouseName/bathroomaway))

[LOGIC updateAcTemp]
test = $status(someoneHome)
on = .set(threshhold,$status(actemp))
off = .set(threshold,$status(hottemp))

[TRIGGER brightmode]
device = Alice
on = .logic(test=$status(Alice/power),on=makebright)
off = .logic(test=$status(Alice/power),on=makenotbright)

[Kitchen Status]
kitchen = 1

[Bedroom Status]
bedroom = 0

